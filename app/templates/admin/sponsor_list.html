{% extends 'admin/base_admin.html' %}
{% block title %}Sponsor & Partner{% endblock %}
{% block admin_content %}
<div class="max-w-xl mx-auto bg-white rounded-lg shadow p-6 mt-8">
  <h2 class="font-heading text-2xl font-bold mb-4">Tambah Sponsor/Partner</h2>
  <form method="POST" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <div class="mb-4">
      {{ form.name.label(class_="block font-medium mb-1") }}
      {{ form.name(class_="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary") }}
    </div>
    <div class="mb-4">
      {{ form.logo.label(class_="block font-medium mb-1") }}
      {{ form.logo(class_="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary") }}
    </div>
    <div class="mb-4">
      {{ form.link.label(class_="block font-medium mb-1") }}
      {{ form.link(class_="w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary") }}
    </div>
    <div>
      {{ form.submit(class_="bg-primary text-white px-4 py-2 rounded-lg font-medium hover:opacity-90") }}
    </div>
  </form>
</div>
<div class="max-w-2xl mx-auto mt-10">
  <h3 class="font-heading text-lg font-bold mb-4">Daftar Sponsor/Partner</h3>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
    {% for s in sponsors %}
    <div class="bg-white rounded shadow p-3 flex flex-col items-center">
      <img src="{{ url_for('public.serve_sponsor_logo', filename=s.logo) }}" alt="{{ s.name }}" class="h-16 object-contain mb-2">
      <div class="font-medium text-sm text-center">{{ s.name }}</div>
      {% if s.link %}<a href="{{ s.link }}" class="text-primary text-xs mt-1" target="_blank">Kunjungi</a>{% endif %}
      <div class="flex gap-2 mt-2">
        <a href="{{ url_for('admin.sponsor_edit', sponsor_id=s.id) }}" class="text-xs text-blue-600 hover:underline">Edit</a>
        <form method="POST" action="{{ url_for('admin.sponsor_delete', sponsor_id=s.id) }}" onsubmit="return confirm('Hapus sponsor ini?')">
          <button type="submit" class="text-xs text-red-600 hover:underline">Hapus</button>
        </form>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% extends "admin/base_admin.html" %}
{% block admin_content %}
<h1 class="font-heading font-bold text-2xl text-gray-900 mb-6">Log aktivitas</h1>
<p class="text-gray-600 mb-6">Aksi admin terbaru (hanya Super Admin).</p>
<div class="bg-white rounded-2xl shadow-card border border-gray-100 overflow-hidden">
  <div class="overflow-x-auto">
    <table class="w-full">
      <thead class="bg-bg border-b border-gray-200">
        <tr>
          <th class="text-left py-3 px-4 font-heading font-semibold text-gray-800">Waktu</th>
          <th class="text-left py-3 px-4 font-heading font-semibold text-gray-800">Pengguna</th>
          <th class="text-left py-3 px-4 font-heading font-semibold text-gray-800">Aksi</th>
          <th class="text-left py-3 px-4 font-heading font-semibold text-gray-800">Entitas</th>
          <th class="text-left py-3 px-4 font-heading font-semibold text-gray-800">Detail</th>
        </tr>
      </thead>
      <tbody>
        {% for log in logs %}
        <tr class="border-b border-gray-100 hover:bg-bg/50">
          <td class="py-3 px-4 text-sm text-gray-500">{{ log.created_at.strftime('%d %b %Y %H:%M:%S') if log.created_at else '—' }}</td>
          <td class="py-3 px-4 text-gray-600">{{ log.user.email if log.user else '—' }}</td>
          <td class="py-3 px-4 font-medium">{{ log.action }}</td>
          <td class="py-3 px-4 text-gray-600">{{ log.entity_type or '—' }}{% if log.entity_id %} #{{ log.entity_id }}{% endif %}</td>
          <td class="py-3 px-4 text-gray-600 max-w-xs truncate">{{ log.details or '—' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% if not logs %}
  <p class="p-8 text-gray-500 text-center">Belum ada entri log.</p>
  {% endif %}
</div>
{% endblock %}
